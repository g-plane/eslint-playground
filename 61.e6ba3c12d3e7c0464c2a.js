(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[61],{2257:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"setupTypeScript",function(){return setupTypeScript});__webpack_require__.d(__webpack_exports__,"setupJavaScript",function(){return setupJavaScript});__webpack_require__.d(__webpack_exports__,"getJavaScriptWorker",function(){return getJavaScriptWorker});__webpack_require__.d(__webpack_exports__,"getTypeScriptWorker",function(){return getTypeScriptWorker});var _tokenization_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2258);var _workerManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2259);var _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2260);var javaScriptWorker;var typeScriptWorker;function setupTypeScript(defaults){typeScriptWorker=setupMode(defaults,"typescript",_tokenization_js__WEBPACK_IMPORTED_MODULE_0__["Language"].TypeScript)}function setupJavaScript(defaults){javaScriptWorker=setupMode(defaults,"javascript",_tokenization_js__WEBPACK_IMPORTED_MODULE_0__["Language"].EcmaScript5)}function getJavaScriptWorker(){return new monaco.Promise(function(resolve,reject){if(!javaScriptWorker){return reject("JavaScript not registered!")}resolve(javaScriptWorker)})}function getTypeScriptWorker(){return new monaco.Promise(function(resolve,reject){if(!typeScriptWorker){return reject("TypeScript not registered!")}resolve(typeScriptWorker)})}function setupMode(defaults,modeId,language){var client=new _workerManager_js__WEBPACK_IMPORTED_MODULE_1__["WorkerManager"](modeId,defaults);var worker=function(first){var more=[];for(var _i=1;_i<arguments.length;_i++){more[_i-1]=arguments[_i]}return client.getLanguageServiceWorker.apply(client,[first].concat(more))};monaco.languages.registerCompletionItemProvider(modeId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["SuggestAdapter"](worker));monaco.languages.registerSignatureHelpProvider(modeId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["SignatureHelpAdapter"](worker));monaco.languages.registerHoverProvider(modeId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["QuickInfoAdapter"](worker));monaco.languages.registerDocumentHighlightProvider(modeId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["OccurrencesAdapter"](worker));monaco.languages.registerDefinitionProvider(modeId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["DefinitionAdapter"](worker));monaco.languages.registerReferenceProvider(modeId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["ReferenceAdapter"](worker));monaco.languages.registerDocumentSymbolProvider(modeId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["OutlineAdapter"](worker));monaco.languages.registerDocumentRangeFormattingEditProvider(modeId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["FormatAdapter"](worker));monaco.languages.registerOnTypeFormattingEditProvider(modeId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["FormatOnTypeAdapter"](worker));new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_2__["DiagnostcsAdapter"](defaults,modeId,worker);monaco.languages.setLanguageConfiguration(modeId,richEditConfiguration);monaco.languages.setTokensProvider(modeId,Object(_tokenization_js__WEBPACK_IMPORTED_MODULE_0__["createTokenizationSupport"])(language));return worker}var richEditConfiguration={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:monaco.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:monaco.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:monaco.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:monaco.languages.IndentAction.None,removeText:1}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}],folding:{markers:{start:new RegExp("^\\s*//\\s*#?region\\b"),end:new RegExp("^\\s*//\\s*#?endregion\\b")}}}},2258:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"Language",function(){return Language});__webpack_require__.d(__webpack_exports__,"createTokenizationSupport",function(){return createTokenizationSupport});var _lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2140);var Language;(function(Language){Language[Language["TypeScript"]=0]="TypeScript";Language[Language["EcmaScript5"]=1]="EcmaScript5"})(Language||(Language={}));function createTokenizationSupport(language){var classifier=_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["createClassifier"](),bracketTypeTable=language===Language.TypeScript?tsBracketTypeTable:jsBracketTypeTable,tokenTypeTable=language===Language.TypeScript?tsTokenTypeTable:jsTokenTypeTable;return{getInitialState:function(){return new State(language,_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["EndOfLineState"].None,false)},tokenize:function(line,state){return tokenize(bracketTypeTable,tokenTypeTable,classifier,state,line)}}}var State=function(){function State(language,eolState,inJsDocComment){this.language=language;this.eolState=eolState;this.inJsDocComment=inJsDocComment}State.prototype.clone=function(){return new State(this.language,this.eolState,this.inJsDocComment)};State.prototype.equals=function(other){if(other===this){return true}if(!other||!(other instanceof State)){return false}if(this.eolState!==other.eolState){return false}if(this.inJsDocComment!==other.inJsDocComment){return false}return true};return State}();function tokenize(bracketTypeTable,tokenTypeTable,classifier,state,text){var ret={tokens:[],endState:new State(state.language,_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["EndOfLineState"].None,false)};function appendFn(startIndex,type){if(ret.tokens.length===0||ret.tokens[ret.tokens.length-1].scopes!==type){ret.tokens.push({startIndex,scopes:type})}}var isTypeScript=state.language===Language.TypeScript;if(!isTypeScript&&checkSheBang(0,text,appendFn)){return ret}var result=classifier.getClassificationsForLine(text,state.eolState,true),offset=0;ret.endState.eolState=result.finalLexState;ret.endState.inJsDocComment=result.finalLexState===_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["EndOfLineState"].InMultiLineCommentTrivia&&(state.inJsDocComment||/\/\*\*.*$/.test(text));for(var _i=0,_a=result.entries;_i<_a.length;_i++){var entry=_a[_i];var type;if(entry.classification===_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Punctuation){var ch=text.charCodeAt(offset);type=bracketTypeTable[ch]||tokenTypeTable[entry.classification];appendFn(offset,type)}else if(entry.classification===_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Comment){if(ret.endState.inJsDocComment||/\/\*\*.*\*\//.test(text.substr(offset,entry.length))){appendFn(offset,isTypeScript?"comment.doc.ts":"comment.doc.js")}else{appendFn(offset,isTypeScript?"comment.ts":"comment.js")}}else{appendFn(offset,tokenTypeTable[entry.classification]||"")}offset+=entry.length}return ret}var tsBracketTypeTable=Object.create(null);tsBracketTypeTable["(".charCodeAt(0)]="delimiter.parenthesis.ts";tsBracketTypeTable[")".charCodeAt(0)]="delimiter.parenthesis.ts";tsBracketTypeTable["{".charCodeAt(0)]="delimiter.bracket.ts";tsBracketTypeTable["}".charCodeAt(0)]="delimiter.bracket.ts";tsBracketTypeTable["[".charCodeAt(0)]="delimiter.array.ts";tsBracketTypeTable["]".charCodeAt(0)]="delimiter.array.ts";var tsTokenTypeTable=Object.create(null);tsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Identifier]="identifier.ts";tsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Keyword]="keyword.ts";tsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Operator]="delimiter.ts";tsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Punctuation]="delimiter.ts";tsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].NumberLiteral]="number.ts";tsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].RegExpLiteral]="regexp.ts";tsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].StringLiteral]="string.ts";var jsBracketTypeTable=Object.create(null);jsBracketTypeTable["(".charCodeAt(0)]="delimiter.parenthesis.js";jsBracketTypeTable[")".charCodeAt(0)]="delimiter.parenthesis.js";jsBracketTypeTable["{".charCodeAt(0)]="delimiter.bracket.js";jsBracketTypeTable["}".charCodeAt(0)]="delimiter.bracket.js";jsBracketTypeTable["[".charCodeAt(0)]="delimiter.array.js";jsBracketTypeTable["]".charCodeAt(0)]="delimiter.array.js";var jsTokenTypeTable=Object.create(null);jsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Identifier]="identifier.js";jsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Keyword]="keyword.js";jsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Operator]="delimiter.js";jsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].Punctuation]="delimiter.js";jsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].NumberLiteral]="number.js";jsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].RegExpLiteral]="regexp.js";jsTokenTypeTable[_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["TokenClass"].StringLiteral]="string.js";function checkSheBang(deltaOffset,line,appendFn){if(line.indexOf("#!")===0){appendFn(deltaOffset,"comment.shebang");return true}}},2259:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"WorkerManager",function(){return WorkerManager});var Promise=monaco.Promise;var WorkerManager=function(){function WorkerManager(modeId,defaults){var _this=this;this._modeId=modeId;this._defaults=defaults;this._worker=null;this._idleCheckInterval=setInterval(function(){return _this._checkIfIdle()},30*1e3);this._lastUsedTime=0;this._configChangeListener=this._defaults.onDidChange(function(){return _this._stopWorker()})}WorkerManager.prototype._stopWorker=function(){if(this._worker){this._worker.dispose();this._worker=null}this._client=null};WorkerManager.prototype.dispose=function(){clearInterval(this._idleCheckInterval);this._configChangeListener.dispose();this._stopWorker()};WorkerManager.prototype._checkIfIdle=function(){if(!this._worker){return}var maxIdleTime=this._defaults.getWorkerMaxIdleTime();var timePassedSinceLastUsed=Date.now()-this._lastUsedTime;if(maxIdleTime>0&&timePassedSinceLastUsed>maxIdleTime){this._stopWorker()}};WorkerManager.prototype._getClient=function(){var _this=this;this._lastUsedTime=Date.now();if(!this._client){this._worker=monaco.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs()}});var p=this._worker.getProxy();if(this._defaults.getEagerModelSync()){p=p.then(function(worker){return _this._worker.withSyncedResources(monaco.editor.getModels().filter(function(model){return model.getModeId()===_this._modeId}).map(function(model){return model.uri}))})}this._client=p}return this._client};WorkerManager.prototype.getLanguageServiceWorker=function(){var _this=this;var resources=[];for(var _i=0;_i<arguments.length;_i++){resources[_i]=arguments[_i]}var _client;return toShallowCancelPromise(this._getClient().then(function(client){_client=client}).then(function(_){return _this._worker.withSyncedResources(resources)}).then(function(_){return _client}))};return WorkerManager}();function toShallowCancelPromise(p){var completeCallback;var errorCallback;var r=new Promise(function(c,e){completeCallback=c;errorCallback=e},function(){});p.then(completeCallback,errorCallback);return r}},2260:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"Adapter",function(){return Adapter});__webpack_require__.d(__webpack_exports__,"DiagnostcsAdapter",function(){return DiagnostcsAdapter});__webpack_require__.d(__webpack_exports__,"SuggestAdapter",function(){return SuggestAdapter});__webpack_require__.d(__webpack_exports__,"SignatureHelpAdapter",function(){return SignatureHelpAdapter});__webpack_require__.d(__webpack_exports__,"QuickInfoAdapter",function(){return QuickInfoAdapter});__webpack_require__.d(__webpack_exports__,"OccurrencesAdapter",function(){return OccurrencesAdapter});__webpack_require__.d(__webpack_exports__,"DefinitionAdapter",function(){return DefinitionAdapter});__webpack_require__.d(__webpack_exports__,"ReferenceAdapter",function(){return ReferenceAdapter});__webpack_require__.d(__webpack_exports__,"OutlineAdapter",function(){return OutlineAdapter});__webpack_require__.d(__webpack_exports__,"Kind",function(){return Kind});__webpack_require__.d(__webpack_exports__,"FormatHelper",function(){return FormatHelper});__webpack_require__.d(__webpack_exports__,"FormatAdapter",function(){return FormatAdapter});__webpack_require__.d(__webpack_exports__,"FormatOnTypeAdapter",function(){return FormatOnTypeAdapter});var _lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2140);var __extends=undefined&&undefined.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var Uri=monaco.Uri;var Promise=monaco.Promise;var Adapter=function(){function Adapter(_worker){this._worker=_worker}Adapter.prototype._positionToOffset=function(uri,position){var model=monaco.editor.getModel(uri);return model.getOffsetAt(position)};Adapter.prototype._offsetToPosition=function(uri,offset){var model=monaco.editor.getModel(uri);return model.getPositionAt(offset)};Adapter.prototype._textSpanToRange=function(uri,span){var p1=this._offsetToPosition(uri,span.start);var p2=this._offsetToPosition(uri,span.start+span.length);var startLineNumber=p1.lineNumber,startColumn=p1.column;var endLineNumber=p2.lineNumber,endColumn=p2.column;return{startLineNumber,startColumn,endLineNumber,endColumn}};return Adapter}();var DiagnostcsAdapter=function(_super){__extends(DiagnostcsAdapter,_super);function DiagnostcsAdapter(_defaults,_selector,worker){var _this=_super.call(this,worker)||this;_this._defaults=_defaults;_this._selector=_selector;_this._disposables=[];_this._listener=Object.create(null);var onModelAdd=function(model){if(model.getModeId()!==_selector){return}var handle;var changeSubscription=model.onDidChangeContent(function(){clearTimeout(handle);handle=setTimeout(function(){return _this._doValidate(model.uri)},500)});_this._listener[model.uri.toString()]={dispose:function(){changeSubscription.dispose();clearTimeout(handle)}};_this._doValidate(model.uri)};var onModelRemoved=function(model){monaco.editor.setModelMarkers(model,_this._selector,[]);var key=model.uri.toString();if(_this._listener[key]){_this._listener[key].dispose();delete _this._listener[key]}};_this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));_this._disposables.push(monaco.editor.onWillDisposeModel(onModelRemoved));_this._disposables.push(monaco.editor.onDidChangeModelLanguage(function(event){onModelRemoved(event.model);onModelAdd(event.model)}));_this._disposables.push({dispose:function(){for(var _i=0,_a=monaco.editor.getModels();_i<_a.length;_i++){var model=_a[_i];onModelRemoved(model)}}});_this._disposables.push(_this._defaults.onDidChange(function(){for(var _i=0,_a=monaco.editor.getModels();_i<_a.length;_i++){var model=_a[_i];onModelRemoved(model);onModelAdd(model)}}));monaco.editor.getModels().forEach(onModelAdd);return _this}DiagnostcsAdapter.prototype.dispose=function(){this._disposables.forEach(function(d){return d&&d.dispose()});this._disposables=[]};DiagnostcsAdapter.prototype._doValidate=function(resource){var _this=this;this._worker(resource).then(function(worker){if(!monaco.editor.getModel(resource)){return null}var promises=[];var _a=_this._defaults.getDiagnosticsOptions(),noSyntaxValidation=_a.noSyntaxValidation,noSemanticValidation=_a.noSemanticValidation;if(!noSyntaxValidation){promises.push(worker.getSyntacticDiagnostics(resource.toString()))}if(!noSemanticValidation){promises.push(worker.getSemanticDiagnostics(resource.toString()))}return Promise.join(promises)}).then(function(diagnostics){if(!diagnostics||!monaco.editor.getModel(resource)){return null}var markers=diagnostics.reduce(function(p,c){return c.concat(p)},[]).map(function(d){return _this._convertDiagnostics(resource,d)});monaco.editor.setModelMarkers(monaco.editor.getModel(resource),_this._selector,markers)}).done(undefined,function(err){console.error(err)})};DiagnostcsAdapter.prototype._convertDiagnostics=function(resource,diag){var _a=this._offsetToPosition(resource,diag.start),startLineNumber=_a.lineNumber,startColumn=_a.column;var _b=this._offsetToPosition(resource,diag.start+diag.length),endLineNumber=_b.lineNumber,endColumn=_b.column;return{severity:monaco.MarkerSeverity.Error,startLineNumber,startColumn,endLineNumber,endColumn,message:_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["flattenDiagnosticMessageText"](diag.messageText,"\n")}};return DiagnostcsAdapter}(Adapter);var SuggestAdapter=function(_super){__extends(SuggestAdapter,_super);function SuggestAdapter(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(SuggestAdapter.prototype,"triggerCharacters",{get:function(){return["."]},enumerable:true,configurable:true});SuggestAdapter.prototype.provideCompletionItems=function(model,position,token){var wordInfo=model.getWordUntilPosition(position);var resource=model.uri;var offset=this._positionToOffset(resource,position);return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getCompletionsAtPosition(resource.toString(),offset)}).then(function(info){if(!info){return}var suggestions=info.entries.map(function(entry){return{uri:resource,position,label:entry.name,sortText:entry.sortText,kind:SuggestAdapter.convertKind(entry.kind)}});return suggestions}))};SuggestAdapter.prototype.resolveCompletionItem=function(item,token){var _this=this;var myItem=item;var resource=myItem.uri;var position=myItem.position;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getCompletionEntryDetails(resource.toString(),_this._positionToOffset(resource,position),myItem.label)}).then(function(details){if(!details){return myItem}return{uri:resource,position,label:details.name,kind:SuggestAdapter.convertKind(details.kind),detail:_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["displayPartsToString"](details.displayParts),documentation:_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["displayPartsToString"](details.documentation)}}))};SuggestAdapter.convertKind=function(kind){switch(kind){case Kind.primitiveType:case Kind.keyword:return monaco.languages.CompletionItemKind.Keyword;case Kind.variable:case Kind.localVariable:return monaco.languages.CompletionItemKind.Variable;case Kind.memberVariable:case Kind.memberGetAccessor:case Kind.memberSetAccessor:return monaco.languages.CompletionItemKind.Field;case Kind.function:case Kind.memberFunction:case Kind.constructSignature:case Kind.callSignature:case Kind.indexSignature:return monaco.languages.CompletionItemKind.Function;case Kind.enum:return monaco.languages.CompletionItemKind.Enum;case Kind.module:return monaco.languages.CompletionItemKind.Module;case Kind.class:return monaco.languages.CompletionItemKind.Class;case Kind.interface:return monaco.languages.CompletionItemKind.Interface;case Kind.warning:return monaco.languages.CompletionItemKind.File}return monaco.languages.CompletionItemKind.Property};return SuggestAdapter}(Adapter);var SignatureHelpAdapter=function(_super){__extends(SignatureHelpAdapter,_super);function SignatureHelpAdapter(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.signatureHelpTriggerCharacters=["(",","];return _this}SignatureHelpAdapter.prototype.provideSignatureHelp=function(model,position,token){var _this=this;var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getSignatureHelpItems(resource.toString(),_this._positionToOffset(resource,position))}).then(function(info){if(!info){return}var ret={activeSignature:info.selectedItemIndex,activeParameter:info.argumentIndex,signatures:[]};info.items.forEach(function(item){var signature={label:"",documentation:null,parameters:[]};signature.label+=_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["displayPartsToString"](item.prefixDisplayParts);item.parameters.forEach(function(p,i,a){var label=_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["displayPartsToString"](p.displayParts);var parameter={label,documentation:_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["displayPartsToString"](p.documentation)};signature.label+=label;signature.parameters.push(parameter);if(i<a.length-1){signature.label+=_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["displayPartsToString"](item.separatorDisplayParts)}});signature.label+=_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["displayPartsToString"](item.suffixDisplayParts);ret.signatures.push(signature)});return ret}))};return SignatureHelpAdapter}(Adapter);var QuickInfoAdapter=function(_super){__extends(QuickInfoAdapter,_super);function QuickInfoAdapter(){return _super!==null&&_super.apply(this,arguments)||this}QuickInfoAdapter.prototype.provideHover=function(model,position,token){var _this=this;var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getQuickInfoAtPosition(resource.toString(),_this._positionToOffset(resource,position))}).then(function(info){if(!info){return}var documentation=_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["displayPartsToString"](info.documentation);var tags=info.tags?info.tags.map(function(tag){var label="*@"+tag.name+"*";if(!tag.text){return label}return label+(tag.text.match(/\r\n|\n/g)?" \n"+tag.text:" - "+tag.text)}).join("  \n\n"):"";var contents=_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["displayPartsToString"](info.displayParts);return{range:_this._textSpanToRange(resource,info.textSpan),contents:[{value:contents},{value:documentation+(tags?"\n\n"+tags:"")}]}}))};return QuickInfoAdapter}(Adapter);var OccurrencesAdapter=function(_super){__extends(OccurrencesAdapter,_super);function OccurrencesAdapter(){return _super!==null&&_super.apply(this,arguments)||this}OccurrencesAdapter.prototype.provideDocumentHighlights=function(model,position,token){var _this=this;var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getOccurrencesAtPosition(resource.toString(),_this._positionToOffset(resource,position))}).then(function(entries){if(!entries){return}return entries.map(function(entry){return{range:_this._textSpanToRange(resource,entry.textSpan),kind:entry.isWriteAccess?monaco.languages.DocumentHighlightKind.Write:monaco.languages.DocumentHighlightKind.Text}})}))};return OccurrencesAdapter}(Adapter);var DefinitionAdapter=function(_super){__extends(DefinitionAdapter,_super);function DefinitionAdapter(){return _super!==null&&_super.apply(this,arguments)||this}DefinitionAdapter.prototype.provideDefinition=function(model,position,token){var _this=this;var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getDefinitionAtPosition(resource.toString(),_this._positionToOffset(resource,position))}).then(function(entries){if(!entries){return}var result=[];for(var _i=0,entries_1=entries;_i<entries_1.length;_i++){var entry=entries_1[_i];var uri=Uri.parse(entry.fileName);if(monaco.editor.getModel(uri)){result.push({uri,range:_this._textSpanToRange(uri,entry.textSpan)})}}return result}))};return DefinitionAdapter}(Adapter);var ReferenceAdapter=function(_super){__extends(ReferenceAdapter,_super);function ReferenceAdapter(){return _super!==null&&_super.apply(this,arguments)||this}ReferenceAdapter.prototype.provideReferences=function(model,position,context,token){var _this=this;var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getReferencesAtPosition(resource.toString(),_this._positionToOffset(resource,position))}).then(function(entries){if(!entries){return}var result=[];for(var _i=0,entries_2=entries;_i<entries_2.length;_i++){var entry=entries_2[_i];var uri=Uri.parse(entry.fileName);if(monaco.editor.getModel(uri)){result.push({uri,range:_this._textSpanToRange(uri,entry.textSpan)})}}return result}))};return ReferenceAdapter}(Adapter);var OutlineAdapter=function(_super){__extends(OutlineAdapter,_super);function OutlineAdapter(){return _super!==null&&_super.apply(this,arguments)||this}OutlineAdapter.prototype.provideDocumentSymbols=function(model,token){var _this=this;var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getNavigationBarItems(resource.toString())}).then(function(items){if(!items){return}var convert=function(bucket,item,containerLabel){var result={name:item.text,kind:outlineTypeTable[item.kind]||monaco.languages.SymbolKind.Variable,location:{uri:resource,range:_this._textSpanToRange(resource,item.spans[0])},containerName:containerLabel};if(item.childItems&&item.childItems.length>0){for(var _i=0,_a=item.childItems;_i<_a.length;_i++){var child=_a[_i];convert(bucket,child,result.name)}}bucket.push(result)};var result=[];items.forEach(function(item){return convert(result,item)});return result}))};return OutlineAdapter}(Adapter);var Kind=function(){function Kind(){}Kind.unknown="";Kind.keyword="keyword";Kind.script="script";Kind.module="module";Kind.class="class";Kind.interface="interface";Kind.type="type";Kind.enum="enum";Kind.variable="var";Kind.localVariable="local var";Kind.function="function";Kind.localFunction="local function";Kind.memberFunction="method";Kind.memberGetAccessor="getter";Kind.memberSetAccessor="setter";Kind.memberVariable="property";Kind.constructorImplementation="constructor";Kind.callSignature="call";Kind.indexSignature="index";Kind.constructSignature="construct";Kind.parameter="parameter";Kind.typeParameter="type parameter";Kind.primitiveType="primitive type";Kind.label="label";Kind.alias="alias";Kind.const="const";Kind.let="let";Kind.warning="warning";return Kind}();var outlineTypeTable=Object.create(null);outlineTypeTable[Kind.module]=monaco.languages.SymbolKind.Module;outlineTypeTable[Kind.class]=monaco.languages.SymbolKind.Class;outlineTypeTable[Kind.enum]=monaco.languages.SymbolKind.Enum;outlineTypeTable[Kind.interface]=monaco.languages.SymbolKind.Interface;outlineTypeTable[Kind.memberFunction]=monaco.languages.SymbolKind.Method;outlineTypeTable[Kind.memberVariable]=monaco.languages.SymbolKind.Property;outlineTypeTable[Kind.memberGetAccessor]=monaco.languages.SymbolKind.Property;outlineTypeTable[Kind.memberSetAccessor]=monaco.languages.SymbolKind.Property;outlineTypeTable[Kind.variable]=monaco.languages.SymbolKind.Variable;outlineTypeTable[Kind.const]=monaco.languages.SymbolKind.Variable;outlineTypeTable[Kind.localVariable]=monaco.languages.SymbolKind.Variable;outlineTypeTable[Kind.variable]=monaco.languages.SymbolKind.Variable;outlineTypeTable[Kind.function]=monaco.languages.SymbolKind.Function;outlineTypeTable[Kind.localFunction]=monaco.languages.SymbolKind.Function;var FormatHelper=function(_super){__extends(FormatHelper,_super);function FormatHelper(){return _super!==null&&_super.apply(this,arguments)||this}FormatHelper._convertOptions=function(options){return{ConvertTabsToSpaces:options.insertSpaces,TabSize:options.tabSize,IndentSize:options.tabSize,IndentStyle:_lib_typescriptServices_js__WEBPACK_IMPORTED_MODULE_0__["IndentStyle"].Smart,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:true,InsertSpaceAfterSemicolonInForStatements:true,InsertSpaceBeforeAndAfterBinaryOperators:true,InsertSpaceAfterKeywordsInControlFlowStatements:true,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:true,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:false,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:false,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:false,PlaceOpenBraceOnNewLineForControlBlocks:false,PlaceOpenBraceOnNewLineForFunctions:false}};FormatHelper.prototype._convertTextChanges=function(uri,change){return{text:change.newText,range:this._textSpanToRange(uri,change.span)}};return FormatHelper}(Adapter);var FormatAdapter=function(_super){__extends(FormatAdapter,_super);function FormatAdapter(){return _super!==null&&_super.apply(this,arguments)||this}FormatAdapter.prototype.provideDocumentRangeFormattingEdits=function(model,range,options,token){var _this=this;var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getFormattingEditsForRange(resource.toString(),_this._positionToOffset(resource,{lineNumber:range.startLineNumber,column:range.startColumn}),_this._positionToOffset(resource,{lineNumber:range.endLineNumber,column:range.endColumn}),FormatHelper._convertOptions(options))}).then(function(edits){if(edits){return edits.map(function(edit){return _this._convertTextChanges(resource,edit)})}}))};return FormatAdapter}(FormatHelper);var FormatOnTypeAdapter=function(_super){__extends(FormatOnTypeAdapter,_super);function FormatOnTypeAdapter(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(FormatOnTypeAdapter.prototype,"autoFormatTriggerCharacters",{get:function(){return[";","}","\n"]},enumerable:true,configurable:true});FormatOnTypeAdapter.prototype.provideOnTypeFormattingEdits=function(model,position,ch,options,token){var _this=this;var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.getFormattingEditsAfterKeystroke(resource.toString(),_this._positionToOffset(resource,position),ch,FormatHelper._convertOptions(options))}).then(function(edits){if(edits){return edits.map(function(edit){return _this._convertTextChanges(resource,edit)})}}))};return FormatOnTypeAdapter}(FormatHelper);function wireCancellationToken(token,promise){token.onCancellationRequested(function(){return promise.cancel()});return promise}}}]);