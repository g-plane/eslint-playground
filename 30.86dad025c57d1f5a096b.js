(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{2193:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"setupMode",function(){return setupMode});var _workerManager_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2194);var _languageFeatures_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2195);function setupMode(defaults){var disposables=[];var client=new _workerManager_js__WEBPACK_IMPORTED_MODULE_0__["WorkerManager"](defaults);disposables.push(client);var worker=function(){var uris=[];for(var _i=0;_i<arguments.length;_i++){uris[_i]=arguments[_i]}return client.getLanguageServiceWorker.apply(client,uris)};var languageId=defaults.languageId;disposables.push(monaco.languages.registerCompletionItemProvider(languageId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_1__["CompletionAdapter"](worker)));disposables.push(monaco.languages.registerDocumentHighlightProvider(languageId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_1__["DocumentHighlightAdapter"](worker)));disposables.push(monaco.languages.registerLinkProvider(languageId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_1__["DocumentLinkAdapter"](worker)));if(languageId==="html"){disposables.push(monaco.languages.registerDocumentFormattingEditProvider(languageId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_1__["DocumentFormattingEditProvider"](worker)));disposables.push(monaco.languages.registerDocumentRangeFormattingEditProvider(languageId,new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_1__["DocumentRangeFormattingEditProvider"](worker)));disposables.push(new _languageFeatures_js__WEBPACK_IMPORTED_MODULE_1__["DiagnostcsAdapter"](languageId,worker))}}},2194:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"WorkerManager",function(){return WorkerManager});var Promise=monaco.Promise;var STOP_WHEN_IDLE_FOR=2*60*1e3;var WorkerManager=function(){function WorkerManager(defaults){var _this=this;this._defaults=defaults;this._worker=null;this._idleCheckInterval=setInterval(function(){return _this._checkIfIdle()},30*1e3);this._lastUsedTime=0;this._configChangeListener=this._defaults.onDidChange(function(){return _this._stopWorker()})}WorkerManager.prototype._stopWorker=function(){if(this._worker){this._worker.dispose();this._worker=null}this._client=null};WorkerManager.prototype.dispose=function(){clearInterval(this._idleCheckInterval);this._configChangeListener.dispose();this._stopWorker()};WorkerManager.prototype._checkIfIdle=function(){if(!this._worker){return}var timePassedSinceLastUsed=Date.now()-this._lastUsedTime;if(timePassedSinceLastUsed>STOP_WHEN_IDLE_FOR){this._stopWorker()}};WorkerManager.prototype._getClient=function(){this._lastUsedTime=Date.now();if(!this._client){this._worker=monaco.editor.createWebWorker({moduleId:"vs/language/html/htmlWorker",createData:{languageSettings:this._defaults.options,languageId:this._defaults.languageId},label:this._defaults.languageId});this._client=this._worker.getProxy()}return this._client};WorkerManager.prototype.getLanguageServiceWorker=function(){var _this=this;var resources=[];for(var _i=0;_i<arguments.length;_i++){resources[_i]=arguments[_i]}var _client;return toShallowCancelPromise(this._getClient().then(function(client){_client=client}).then(function(_){return _this._worker.withSyncedResources(resources)}).then(function(_){return _client}))};return WorkerManager}();function toShallowCancelPromise(p){var completeCallback;var errorCallback;var r=new Promise(function(c,e){completeCallback=c;errorCallback=e},function(){});p.then(completeCallback,errorCallback);return r}},2195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"DiagnostcsAdapter",function(){return DiagnostcsAdapter});__webpack_require__.d(__webpack_exports__,"CompletionAdapter",function(){return CompletionAdapter});__webpack_require__.d(__webpack_exports__,"DocumentHighlightAdapter",function(){return DocumentHighlightAdapter});__webpack_require__.d(__webpack_exports__,"DocumentLinkAdapter",function(){return DocumentLinkAdapter});__webpack_require__.d(__webpack_exports__,"DocumentFormattingEditProvider",function(){return DocumentFormattingEditProvider});__webpack_require__.d(__webpack_exports__,"DocumentRangeFormattingEditProvider",function(){return DocumentRangeFormattingEditProvider});var _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2105);var Uri=monaco.Uri;var Range=monaco.Range;var DiagnostcsAdapter=function(){function DiagnostcsAdapter(_languageId,_worker){var _this=this;this._languageId=_languageId;this._worker=_worker;this._disposables=[];this._listener=Object.create(null);var onModelAdd=function(model){var modeId=model.getModeId();if(modeId!==_this._languageId){return}var handle;_this._listener[model.uri.toString()]=model.onDidChangeContent(function(){clearTimeout(handle);handle=setTimeout(function(){return _this._doValidate(model.uri,modeId)},500)});_this._doValidate(model.uri,modeId)};var onModelRemoved=function(model){monaco.editor.setModelMarkers(model,_this._languageId,[]);var uriStr=model.uri.toString();var listener=_this._listener[uriStr];if(listener){listener.dispose();delete _this._listener[uriStr]}};this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));this._disposables.push(monaco.editor.onWillDisposeModel(function(model){onModelRemoved(model)}));this._disposables.push(monaco.editor.onDidChangeModelLanguage(function(event){onModelRemoved(event.model);onModelAdd(event.model)}));this._disposables.push({dispose:function(){for(var key in _this._listener){_this._listener[key].dispose()}}});monaco.editor.getModels().forEach(onModelAdd)}DiagnostcsAdapter.prototype.dispose=function(){this._disposables.forEach(function(d){return d&&d.dispose()});this._disposables=[]};DiagnostcsAdapter.prototype._doValidate=function(resource,languageId){this._worker(resource).then(function(worker){return worker.doValidation(resource.toString()).then(function(diagnostics){var markers=diagnostics.map(function(d){return toDiagnostics(resource,d)});monaco.editor.setModelMarkers(monaco.editor.getModel(resource),languageId,markers)})}).then(undefined,function(err){console.error(err)})};return DiagnostcsAdapter}();function toSeverity(lsSeverity){switch(lsSeverity){case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["DiagnosticSeverity"].Error:return monaco.MarkerSeverity.Error;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["DiagnosticSeverity"].Warning:return monaco.MarkerSeverity.Warning;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["DiagnosticSeverity"].Information:return monaco.MarkerSeverity.Info;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["DiagnosticSeverity"].Hint:return monaco.MarkerSeverity.Hint;default:return monaco.MarkerSeverity.Info}}function toDiagnostics(resource,diag){var code=typeof diag.code==="number"?String(diag.code):diag.code;return{severity:toSeverity(diag.severity),startLineNumber:diag.range.start.line+1,startColumn:diag.range.start.character+1,endLineNumber:diag.range.end.line+1,endColumn:diag.range.end.character+1,message:diag.message,code,source:diag.source}}function fromPosition(position){if(!position){return void 0}return{character:position.column-1,line:position.lineNumber-1}}function fromRange(range){if(!range){return void 0}return{start:fromPosition(range.getStartPosition()),end:fromPosition(range.getEndPosition())}}function toRange(range){if(!range){return void 0}return new Range(range.start.line+1,range.start.character+1,range.end.line+1,range.end.character+1)}function toCompletionItemKind(kind){var mItemKind=monaco.languages.CompletionItemKind;switch(kind){case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Text:return mItemKind.Text;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Method:return mItemKind.Method;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Function:return mItemKind.Function;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Constructor:return mItemKind.Constructor;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Field:return mItemKind.Field;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Variable:return mItemKind.Variable;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Class:return mItemKind.Class;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Interface:return mItemKind.Interface;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Module:return mItemKind.Module;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Property:return mItemKind.Property;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Unit:return mItemKind.Unit;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Value:return mItemKind.Value;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Enum:return mItemKind.Enum;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Keyword:return mItemKind.Keyword;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Snippet:return mItemKind.Snippet;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Color:return mItemKind.Color;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].File:return mItemKind.File;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Reference:return mItemKind.Reference}return mItemKind.Property}function fromCompletionItemKind(kind){var mItemKind=monaco.languages.CompletionItemKind;switch(kind){case mItemKind.Text:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Text;case mItemKind.Method:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Method;case mItemKind.Function:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Function;case mItemKind.Constructor:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Constructor;case mItemKind.Field:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Field;case mItemKind.Variable:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Variable;case mItemKind.Class:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Class;case mItemKind.Interface:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Interface;case mItemKind.Module:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Module;case mItemKind.Property:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Property;case mItemKind.Unit:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Unit;case mItemKind.Value:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Value;case mItemKind.Enum:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Enum;case mItemKind.Keyword:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Keyword;case mItemKind.Snippet:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Snippet;case mItemKind.Color:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Color;case mItemKind.File:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].File;case mItemKind.Reference:return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Reference}return _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["CompletionItemKind"].Property}function toTextEdit(textEdit){if(!textEdit){return void 0}return{range:toRange(textEdit.range),text:textEdit.newText}}function toCompletionItem(entry){return{label:entry.label,insertText:entry.insertText,sortText:entry.sortText,filterText:entry.filterText,documentation:entry.documentation,detail:entry.detail,kind:toCompletionItemKind(entry.kind),textEdit:toTextEdit(entry.textEdit),data:entry.data}}function fromMarkdownString(entry){return{kind:typeof entry==="string"?_deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["MarkupKind"].PlainText:_deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["MarkupKind"].Markdown,value:typeof entry==="string"?entry:entry.value}}function fromCompletionItem(entry){var item={label:entry.label,sortText:entry.sortText,filterText:entry.filterText,documentation:fromMarkdownString(entry.documentation),detail:entry.detail,kind:fromCompletionItemKind(entry.kind),data:entry.data};if(typeof entry.insertText==="object"&&typeof entry.insertText.value==="string"){item.insertText=entry.insertText.value;item.insertTextFormat=_deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["InsertTextFormat"].Snippet}else{item.insertText=entry.insertText}if(entry.range){item.textEdit=_deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["TextEdit"].replace(fromRange(entry.range),item.insertText)}return item}var CompletionAdapter=function(){function CompletionAdapter(_worker){this._worker=_worker}Object.defineProperty(CompletionAdapter.prototype,"triggerCharacters",{get:function(){return[".",":","<",'"',"=","/"]},enumerable:true,configurable:true});CompletionAdapter.prototype.provideCompletionItems=function(model,position,token){var wordInfo=model.getWordUntilPosition(position);var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.doComplete(resource.toString(),fromPosition(position))}).then(function(info){if(!info){return}var items=info.items.map(function(entry){var item={label:entry.label,insertText:entry.insertText,sortText:entry.sortText,filterText:entry.filterText,documentation:entry.documentation,detail:entry.detail,kind:toCompletionItemKind(entry.kind)};if(entry.textEdit){item.range=toRange(entry.textEdit.range);item.insertText=entry.textEdit.newText}if(entry.insertTextFormat===_deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["InsertTextFormat"].Snippet){item.insertText={value:item.insertText}}return item});return{isIncomplete:info.isIncomplete,items}}))};return CompletionAdapter}();function isMarkupContent(thing){return thing&&typeof thing==="object"&&typeof thing.kind==="string"}function toMarkdownString(entry){if(typeof entry==="string"){return{value:entry}}if(isMarkupContent(entry)){if(entry.kind==="plaintext"){return{value:entry.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}}return{value:entry.value}}return{value:"```"+entry.language+"\n"+entry.value+"\n```\n"}}function toMarkedStringArray(contents){if(!contents){return void 0}if(Array.isArray(contents)){return contents.map(toMarkdownString)}return[toMarkdownString(contents)]}function toLocation(location){return{uri:Uri.parse(location.uri),range:toRange(location.range)}}function toSymbolKind(kind){var mKind=monaco.languages.SymbolKind;switch(kind){case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].File:return mKind.Array;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Module:return mKind.Module;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Namespace:return mKind.Namespace;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Package:return mKind.Package;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Class:return mKind.Class;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Method:return mKind.Method;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Property:return mKind.Property;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Field:return mKind.Field;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Constructor:return mKind.Constructor;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Enum:return mKind.Enum;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Interface:return mKind.Interface;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Function:return mKind.Function;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Variable:return mKind.Variable;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Constant:return mKind.Constant;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].String:return mKind.String;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Number:return mKind.Number;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Boolean:return mKind.Boolean;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["SymbolKind"].Array:return mKind.Array}return mKind.Function}function toHighlighKind(kind){var mKind=monaco.languages.DocumentHighlightKind;switch(kind){case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["DocumentHighlightKind"].Read:return mKind.Read;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["DocumentHighlightKind"].Write:return mKind.Write;case _deps_vscode_languageserver_types_main_js__WEBPACK_IMPORTED_MODULE_0__["DocumentHighlightKind"].Text:return mKind.Text}return mKind.Text}var DocumentHighlightAdapter=function(){function DocumentHighlightAdapter(_worker){this._worker=_worker}DocumentHighlightAdapter.prototype.provideDocumentHighlights=function(model,position,token){var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.findDocumentHighlights(resource.toString(),fromPosition(position))}).then(function(items){if(!items){return}return items.map(function(item){return{range:toRange(item.range),kind:toHighlighKind(item.kind)}})}))};return DocumentHighlightAdapter}();var DocumentLinkAdapter=function(){function DocumentLinkAdapter(_worker){this._worker=_worker}DocumentLinkAdapter.prototype.provideLinks=function(model,token){var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.findDocumentLinks(resource.toString())}).then(function(items){if(!items){return}return items.map(function(item){return{range:toRange(item.range),url:item.target}})}))};return DocumentLinkAdapter}();function fromFormattingOptions(options){return{tabSize:options.tabSize,insertSpaces:options.insertSpaces}}var DocumentFormattingEditProvider=function(){function DocumentFormattingEditProvider(_worker){this._worker=_worker}DocumentFormattingEditProvider.prototype.provideDocumentFormattingEdits=function(model,options,token){var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.format(resource.toString(),null,fromFormattingOptions(options)).then(function(edits){if(!edits||edits.length===0){return}return edits.map(toTextEdit)})}))};return DocumentFormattingEditProvider}();var DocumentRangeFormattingEditProvider=function(){function DocumentRangeFormattingEditProvider(_worker){this._worker=_worker}DocumentRangeFormattingEditProvider.prototype.provideDocumentRangeFormattingEdits=function(model,range,options,token){var resource=model.uri;return wireCancellationToken(token,this._worker(resource).then(function(worker){return worker.format(resource.toString(),fromRange(range),fromFormattingOptions(options)).then(function(edits){if(!edits||edits.length===0){return}return edits.map(toTextEdit)})}))};return DocumentRangeFormattingEditProvider}();function wireCancellationToken(token,promise){if(promise.cancel){token.onCancellationRequested(function(){return promise.cancel()})}return promise}}}]);