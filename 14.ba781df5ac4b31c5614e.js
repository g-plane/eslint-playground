(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1346:function(e,r,t){"use strict";const n=t(502);e.exports={meta:{docs:{url:n("param-names")},fixable:"code"},create:e=>({NewExpression(r){if("Promise"===r.callee.name&&1===r.arguments.length){const t=r.arguments[0].params;if(!t||!t.length)return;("resolve"!==t[0].name||t[1]&&"reject"!==t[1].name)&&e.report({node:r,message:"Promise constructor parameters must be named resolve, reject"})}}})}},1347:function(e,r,t){"use strict";const n=t(502),s=t(578);e.exports={meta:{docs:{url:n("no-return-wrap")},messages:{resolve:"Avoid wrapping return values in Promise.resolve",reject:"Expected throw instead of Promise.reject"}},create(e){const r=(e.options[0]||{}).allowReject;return{ReturnStatement(t){(function(e){const r=e.getAncestors().filter(e=>"ExpressionStatement"===e.type)[0];return r&&r.expression&&s(r.expression)})(e)&&t.argument&&"CallExpression"===t.argument.type&&"MemberExpression"===t.argument.callee.type&&"Promise"===t.argument.callee.object.name&&("resolve"===t.argument.callee.property.name?e.report({node:t,messageId:"resolve"}):r||"reject"!==t.argument.callee.property.name||e.report({node:t,messageId:"reject"}))}}}}},1348:function(e,r,t){"use strict";const n=t(502);function s(e){return"CallExpression"===e.type&&"MemberExpression"===e.callee.type&&"then"===e.callee.property.name}function o(e){return e[e.length-1]}e.exports={meta:{docs:{url:n("always-return")}},create(e){const r=[];function t(){const e=o(r),t=o(e.branchIDStack);e.branchInfoMap[t]&&(e.branchInfoMap[t].good=!0)}return{ReturnStatement:t,ThrowStatement:t,onCodePathSegmentStart(e,t){const n=o(r);n.branchIDStack.push(e.id),n.branchInfoMap[e.id]={good:!1,node:t}},onCodePathSegmentEnd(){o(r).branchIDStack.pop()},onCodePathStart(){r.push({branchIDStack:[],branchInfoMap:{}})},onCodePathEnd(t,n){const o=r.pop();(function(e){return function(e){return"FunctionExpression"===e.type||"ArrowFunctionExpression"===e.type&&"BlockStatement"===e.body.type}(e)&&s(e.parent)&&function(e){return e.parent&&e.parent.arguments&&e.parent.arguments[0]===e}(e)})(n)&&t.finalSegments.forEach(r=>{const t=r.id,n=o.branchInfoMap[t];if(!n.good){if(function e(r){return!!(r&&r.parent&&r.parent.type)&&!s(r.parent)&&("ReturnStatement"===r.parent.type||e(r.parent))}(n.node))return;const t=r.prevSegments;for(let e=t.length-1;e>=0;--e){const r=t[e];if(o.branchInfoMap[r.id].good)return}e.report({message:"Each then() should return a value or throw",node:n.node})}})}}}}},1349:function(e,r,t){"use strict";const n=t(502),s=t(578);e.exports={meta:{docs:{url:n("catch-or-return")},messages:{terminationMethod:"Expected {{ terminationMethod }}() or return"}},create(e){const r=e.options[0]||{},t=r.allowThen;let n=r.terminationMethod||"catch";return"string"==typeof n&&(n=[n]),{ExpressionStatement(r){s(r.expression)&&(t&&"CallExpression"===r.expression.type&&"MemberExpression"===r.expression.callee.type&&"then"===r.expression.callee.property.name&&2===r.expression.arguments.length||"CallExpression"===r.expression.type&&"MemberExpression"===r.expression.callee.type&&-1!==n.indexOf(r.expression.callee.property.name)||"CallExpression"===r.expression.type&&"MemberExpression"===r.expression.callee.type&&"Literal"===r.expression.callee.property.type&&"catch"===r.expression.callee.property.value||e.report({node:r,messageId:"terminationMethod",data:{terminationMethod:n}}))}}}}},1350:function(e,r,t){"use strict";const n=t(502);e.exports={meta:{docs:{url:n("prefer-await-to-callbacks")},messages:{error:"Avoid callbacks. Prefer Async/Await."}},create(e){function r(r){const t=r.params[r.params.length-1]||{};"callback"!==t.name&&"cb"!==t.name||e.report({node:t,messageId:"error"})}return{CallExpression(r){if("cb"===r.callee.name||"callback"===r.callee.name)return void e.report({node:r,messageId:"error"});const t=r.arguments.length-1,n=t>-1&&r.arguments[t];if(n&&"FunctionExpression"===n.type||"ArrowFunctionExpression"===n.type){if(r.callee.property&&("on"===r.callee.property.name||"once"===r.callee.property.name))return;n.params&&n.params[0]&&"err"===n.params[0].name&&(e.getAncestors().some(e=>"AwaitExpression"===e.type||"YieldExpression"===e.type)||e.report({node:n,messageId:"error"}))}},FunctionDeclaration:r,FunctionExpression:r,ArrowFunctionExpression:r}}}},1351:function(e,r,t){"use strict";const n=t(502);e.exports={meta:{docs:{url:n("prefer-await-to-then")}},create(e){return{MemberExpression(r){"Program"===e.getScope().block.type||e.getAncestors().some(e=>"AwaitExpression"===e.type||"YieldExpression"===e.type)||r.property&&"then"===r.property.name&&e.report({node:r.property,message:"Prefer await to then()."})}}}}},1352:function(e,r,t){"use strict";const n=t(502);e.exports={meta:{docs:{url:n("no-native")},messages:{name:'"{{name}}" is not defined.'}},create:e=>({"Program:exit"(){const r=e.getScope();r.implicit.left.forEach(t=>{"Promise"===t.identifier.name&&(function(e,r){return e.variables.some(e=>e.name===r.identifier.name&&!(!e.defs||!e.defs.length))}(r,t)||e.report({node:t.identifier,messageId:"name",data:{name:t.identifier.name}}))})}})}},1353:function(e,r,t){"use strict";const n=t(502),s=t(874),o=t(667),a=t(1354);e.exports={meta:{docs:{url:n("no-callback-in-promise")},messages:{callback:"Avoid calling back inside of a promise."}},create:e=>({CallExpression(r){const t=(e.options[0]||{}).exceptions||[];if(a(r,t))e.getAncestors().some(o)&&e.report({node:r,messageId:"callback"});else if(s(r)){const t=r.arguments&&r.arguments[0]&&r.arguments[0].name;"callback"!==t&&"cb"!==t&&"next"!==t&&"done"!==t||e.report({node:r.arguments[0],messageId:"callback"})}}})}},1354:function(e,r,t){"use strict";const n=t(1355);e.exports=function(e,r){const t="CallExpression"===e.type,s=e.callee||{},o=n(s.name,r);return t&&o}},1355:function(e,r,t){"use strict";let n=["done","cb","callback","next"];e.exports=function(e,r){for(let e=0;e<r.length;e++)n=n.filter(t=>t!==r[e]);return n.some(r=>e===r)}},1356:function(e,r,t){"use strict";const n=t(502),s=t(578),o=t(1357);e.exports={meta:{docs:{url:n("no-promise-in-callback")}},create:e=>({CallExpression(r){s(r)&&"ReturnStatement"!==r.parent.type&&e.getAncestors().some(o)&&e.report({node:r.callee,message:"Avoid using promises inside of callbacks."})}})}},1357:function(e,r,t){"use strict";const n=t(667);e.exports=function(e){const r="FunctionExpression"===e.type||"ArrowFunctionExpression"===e.type||"FunctionDeclaration"===e.type;if(n(e))return;const t=e.params&&e.params[0]&&e.params[0].name;return r&&("err"===t||"error"===t)}},1358:function(e,r,t){"use strict";const n=t(502),s=t(874),o=t(667);e.exports={meta:{docs:{url:n("no-nesting")}},create:e=>({CallExpression(r){s(r)&&e.getAncestors().some(o)&&e.report({node:r,message:"Avoid nesting promises."})}})}},1359:function(e,r,t){"use strict";const n=t(502);e.exports={meta:{docs:{url:n("avoid-new")}},create:e=>({NewExpression(r){"Promise"===r.callee.name&&e.report({node:r,message:"Avoid creating new promises."})}})}},1360:function(e,r,t){"use strict";const n=t(873),s=t(502);e.exports={meta:{docs:{url:s("no-new-statics")},fixable:"code"},create:e=>({NewExpression(r){"MemberExpression"===r.callee.type&&"Promise"===r.callee.object.name&&n[r.callee.property.name]&&e.report({node:r,message:"Avoid calling 'new' on 'Promise.{{ name }}()'",data:{name:r.callee.property.name},fix:e=>e.replaceTextRange([r.start,r.start+"new ".length],"")})}})}},1361:function(e,r,t){"use strict";const n=t(502),s=t(578);e.exports={meta:{docs:{url:n("no-return-in-finally")}},create:e=>({CallExpression(r){s(r)&&r.callee&&r.callee.property&&"finally"===r.callee.property.name&&r.arguments&&r.arguments[0]&&r.arguments[0].body&&r.arguments[0].body.body&&r.arguments[0].body.body.some(e=>"ReturnStatement"===e.type)&&e.report({node:r.callee.property,message:"No return in finally"})}})}},1362:function(e,r,t){"use strict";const n=t(502),s=t(578);e.exports={meta:{docs:{description:"Ensures the proper number of arguments are passed to Promise functions",url:n("valid-params")}},create:e=>({CallExpression(r){if(!s(r))return;const t=r.callee.property.name,n=r.arguments.length;switch(t){case"resolve":case"reject":n>1&&e.report({node:r,message:"Promise.{{ name }}() requires 0 or 1 arguments, but received {{ numArgs }}",data:{name:t,numArgs:n}});break;case"then":(n<1||n>2)&&e.report({node:r,message:"Promise.{{ name }}() requires 1 or 2 arguments, but received {{ numArgs }}",data:{name:t,numArgs:n}});break;case"race":case"all":case"catch":case"finally":1!==n&&e.report({node:r,message:"Promise.{{ name }}() requires 1 argument, but received {{ numArgs }}",data:{name:t,numArgs:n}})}}})}},1850:function(e,r,t){"use strict";e.exports={rules:{"param-names":t(1346),"no-return-wrap":t(1347),"always-return":t(1348),"catch-or-return":t(1349),"prefer-await-to-callbacks":t(1350),"prefer-await-to-then":t(1351),"no-native":t(1352),"no-callback-in-promise":t(1353),"no-promise-in-callback":t(1356),"no-nesting":t(1358),"avoid-new":t(1359),"no-new-statics":t(1360),"no-return-in-finally":t(1361),"valid-params":t(1362)},rulesConfig:{"param-names":1,"always-return":1,"no-return-wrap":1,"no-native":0,"catch-or-return":1},configs:{recommended:{rules:{"promise/always-return":"error","promise/no-return-wrap":"error","promise/param-names":"error","promise/catch-or-return":"error","promise/no-native":"off","promise/no-nesting":"warn","promise/no-promise-in-callback":"warn","promise/no-callback-in-promise":"warn","promise/avoid-new":"off","promise/no-new-statics":"error","promise/no-return-in-finally":"warn","promise/valid-params":"warn"}}}}},502:function(e,r,t){"use strict";const n=t(55),s="https://github.com/xjamundx/eslint-plugin-promise";e.exports=function(e){return`${s}/tree/v${n.version}/docs/rules/${e}.md`}},578:function(e,r,t){"use strict";const n=t(873);e.exports=function e(r){return"CallExpression"===r.type&&"MemberExpression"===r.callee.type&&"then"===r.callee.property.name||"CallExpression"===r.type&&"MemberExpression"===r.callee.type&&"catch"===r.callee.property.name||"CallExpression"===r.type&&"MemberExpression"===r.callee.type&&"finally"===r.callee.property.name||"CallExpression"===r.type&&"MemberExpression"===r.callee.type&&e(r.callee.object)||"CallExpression"===r.type&&"MemberExpression"===r.callee.type&&"Identifier"===r.callee.object.type&&"Promise"===r.callee.object.name&&n[r.callee.property.name]}},667:function(e,r,t){"use strict";e.exports=function(e){const r="FunctionExpression"===e.type||"ArrowFunctionExpression"===e.type,t=(e.parent||{}).callee||{},n=t.property&&t.property.name||"";return r&&("then"===n||"catch"===n)}},873:function(e,r,t){"use strict";e.exports={all:!0,race:!0,reject:!0,resolve:!0}},874:function(e,r,t){"use strict";e.exports=function(e){if("CallExpression"!==e.type)return;if("MemberExpression"!==e.callee.type)return;const r=e.callee.property.name;return"then"===r||"catch"===r}}}]);